(function(b){b.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage"]};b.expr[":"].uncached=function(a){if(!b(a).is('img[src!=""]'))return!1;var e=new Image;return e.src=a.src,!e.complete};b.fn.waitForImages=function(a,e,c){var g=0,d=0;b.isPlainObject(a)&&(a=a.finished,e=a.each,c=a.waitForAll);a=a||b.noop;e=e||b.noop;c=!!c;if(!b.isFunction(a)||!b.isFunction(e))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var f=
b(this),h=[],i=b.waitForImages.hasImageProperties||[],j=/url\(\s*(['"]?)(.*?)\1\s*\)/g;c?f.find("*").andSelf().each(function(){var a=b(this);a.is("img:uncached")&&h.push({src:a.attr("src"),element:a[0]});b.each(i,function(c,f){var e=a.css(f),b;if(!e)return!0;for(;b=j.exec(e);)h.push({src:b[2],element:a[0]})})}):f.find("img:uncached").each(function(){h.push({src:this.src,element:this})});g=h.length;d=0;0===g&&a.call(f[0]);b.each(h,function(c,i){var h=new Image;b(h).bind("load.waitForImages error.waitForImages",
function(c){d++;e.call(i.element,d,g,"load"==c.type);if(d==g)return a.call(f[0]),!1});h.src=i.src})})}})(jQuery);
(function(b){b.fn.randomBlinking=function(a,e){var c=this;if(0.95<=c.css("opacity")){c.addClass("slow");var b=parseInt(450*Math.random())+50;setTimeout(function(){c.addClass("slow").css("opacity",0);setTimeout(function(){c.randomBlinking(a)},2100)},b)}else 0.05>=c.css("opacity")?(c.removeClass("slow"),b=e?Math.random()*(e-500)+500:Math.random()*(a-10)+10,setTimeout(function(){c.css("opacity",1);c.randomBlinking(a)},b)):setTimeout(function(){c.randomBlinking(a)},100)};b.fn.randomRocket=function(a,
b,c,g){if(this.data("rocket-stop"))this.data("rocket-stop",0),this.data("rocket-running",0);else{this.data("rocket-running",1);var d=this,f=parseInt(Math.random()*(g-c))+c;setTimeout(function(){d.addClass(a);setTimeout(function(){d.removeClass(a);setTimeout(function(){d.randomRocket(a,b,c,g)},f)},b+50)},f/2)}};b.fn.randomParticle=function(a,b,c,g){if(this.data("particle-stop"))this.data("particle-stop",0),this.data("particle-running",0);else{this.data("particle-running",1);var d=this;setTimeout(function(){var f=
d.clone(),h=Math.random()*(a-b)+b,i=d.position();f[0].className=d[0].className;i.transform="scale("+h+")";f.css(i).addClass("fly");f.appendTo(d.parent());var j=(parseInt(50*Math.random())+10)*(0.5<Math.random()?1:-1),k=(parseInt(50*Math.random())+10)*(0.5<Math.random()?1:-1);setTimeout(function(){f.css({top:i.top+j+"px",left:i.left+k+"px",opacity:0});d.randomParticle(a,b,c,g);setTimeout(function(){f.remove()},400)},0)},1E3*Math.random()*(g-c)+1E3*c)}};b.fn.isVisible=function(a){a="undefined"==typeof a?
this.offset().top-b(window).scrollTop():a-b(window).scrollTop();return 0<a&&a<b(window).height()}})(jQuery,window);
(function(b,a,e){a.Eye=function(a,g,d){this.x=a;this.y=g;this.create=function(a,c,i){var d=e.createElement("canvas");d.width=10;d.height=10;b(d).css({position:"absolute",zIndex:65,top:c+"px",left:a+"px"}).appendTo(e.getElementById(i));canvas=d.getContext("2d");canvas.beginPath();canvas.arc(7,7/1.5,7/3,0,2*Math.PI,!0);canvas.closePath();canvas.fillStyle="rgb(0,0,0)";canvas.fill();return d};this.rotate=function(a){this.node.style.MozTransform="rotate("+a+"deg)";this.node.style.WebkitTransform="rotate("+
a+"deg)";this.node.style.OTransform="rotate("+a+"deg)";this.node.style.msTransform="rotate("+a+"deg)";this.node.style.Transform="rotate("+a+"deg)"};this.locateSelf=function(){this.mx=this.node.offsetLeft+5;this.my=this.node.offsetTop+5;if(this.node.offsetParent)for(var a=this.node;a=a.offsetParent;)this.mx+=a.offsetLeft,this.my+=a.offsetTop};this.node=this.create(a,g,d);this.locateSelf()}})(jQuery,window,document);
$(function(){try{var b=window,a=document.body,e=new Eye(330,117,"card5"),c=new Eye(337,151,"card5");$e1=$(e.node);$e2=$(c.node)}catch(g){}$(window).resize(function(){e.locateSelf();c.locateSelf()});$(window).mousemove(function(d){if($e1.isVisible(e.my)||$e2.isVisible(c.my)){var f=d.clientX+(b.scrollX||a.scrollLeft||a.parentNode.scrollLeft||0),d=d.clientY+(b.scrollY||a.scrollTop||a.parentNode.scrollTop||0);e.rotate(Math.atan2(d-e.my,f-e.mx)*(180/Math.PI));c.rotate(Math.atan2(d-c.my,f-c.mx)*(180/Math.PI))}});
$(".header.container").waitForImages(function(){$("#loader").addClass("preloaded").find(".progress").css("width","30%").end().find(".status").text("30%");$(this).addClass("loaded");$("section.card2").waitForImages(function(){$("#loader").find(".progress").css("width","40%").end().find(".status").text("40%");$(this).addClass("loaded");$("section.card3").waitForImages(function(){$("#loader").find(".progress").css("width","50%").end().find(".status").text("50%");$(this).addClass("loaded");$("section.card4").waitForImages(function(){$("#loader").find(".progress").css("width",
"60%").end().find(".status").text("60%");$(this).addClass("loaded");$("section.card5").waitForImages(function(){$("#loader").find(".progress").css("width","70%").end().find(".status").text("70%");$(this).addClass("loaded");$("section.card6").waitForImages(function(){$("#loader").find(".progress").css("width","80%").end().find(".status").text("80%");$(this).addClass("loaded");$(".footer.container").waitForImages(function(){$("#loader").addClass("loaded").find(".progress").css("width","100%").end().find(".status").text("100%");
$(this).addClass("loaded");e.locateSelf();c.locateSelf()})})})})})})});$("html:not(.no-csstransitions) #fireworks img").load(function(){$("#fireworks img").each(function(){$(this).randomBlinking(1500,2E3)})});$("#fire img, #fire2 img").load(function(){$("#fire, #fire2").addClass("in")});$("html:not(.no-cssanimations) #card3 .rocket").each(function(){var a=$(this);a.randomRocket("launch"+a.data("lid"),1E3,500,4E3)});var d=$("#disqus_container");$("#disqus_container a.close").click(function(a){a.preventDefault();
d.removeClass("show");return!1});$("#disqus_smth").click(function(a){a.preventDefault();d.toggleClass("show");return!1});var f=$("#share"),h=f.find("textarea");h.text('If you\'d like to see the animated version of this guide please visit <a href="http://www.bonfire-night-safety.co.uk/">Bonfire-Night-Safety.co.uk</a>.<img src="http://www.bonfire-night-safety.co.uk/img/embed_full.jpg" alt="" width="690" height="3970" />If you\'d like a free printable version of this cheat sheet to use as a teaching aid, <a href="http://www.bonfire-night-safety.co.uk/">visit the child development resource PDF</a>');
$(window).scroll(function(){setTimeout(function(){$(document).height()-$(window).scrollTop()-50<=$(window).height()?f.hasClass("show")||setTimeout(function(){f.addClass("show");h[0].select()},0):f.removeClass("show")},0)})});